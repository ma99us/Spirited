<h1 style="text-align: center">Run API Tests</h1>
<h3 ng-show="busy" style="text-align: center">Please wait...</h3>
<p style="color:orangered; font-weight:bold;">{{message}}</p>

<p align="right"><span ng-show="lastQueryTs">Queried in {{lastQueryTs}}ms </span><button ng-disabled="busy" ng-click="getAllWhisky()">Refresh</button>
    <span ng-show="lastRebuildTs"> Rebuilt in {{lastRebuildTs}} secs </span><button ng-disabled="busy" ng-click="rebuildAll()">REBUILD ALL DATA!</button></p>
<p>
<ul>
    <p ng-show="whisky.length == 0">--- no data ---</p>
    <li ng-repeat="w in whisky">
        <whisky-row whisky="w" sel-whisky="selWhisky" ng-click="selectWhisky(w)"></whisky-row> - <button ng-click="delWhisky(w)">X</button>
    </li>
</ul>
</p>

<p><pagination results-per-page="resultsPerPage" page-number="pageNumber" total-results="totalResults" callback="onPageChange(page)"></pagination>
    <a href="" ng-click="toggleResultsPerPage()">resultsPerPage={{resultsPerPage}}</a>,
    <a href="" ng-click="toggleSortBy()">sortBy={{sortBy}}</a>, totalResults={{totalResults}} </p>

<!--<p><label>Add new name</label><input id="name" type="text" dl-enter-key="addTitle(newWhisky)" ng-model="newWhisky"/> <button ng-click="addTitle(newWhisky)">Add</button><button style="float: right;" ng-click="clearAllWhisky()">CLEAR ALL DATA!</button></p>-->

<h3>Add/Modify</h3>
<whisky-details sel-whisky="selWhisky" editable="true"></whisky-details>

<div>
    <h2>API Endpoints usage:</h2>
    <p>DELETE http://ghost.gerdov.com:8181/Spirited/<b>api/whisky/{id}</b>    ->      Response deleteWhisky(long) - parameters: DB 'Id'</p>
    <p>GET http://ghost.gerdov.com:8181/Spirited/<b>api/whisky/</b>        ->      Response getAllWhisky(int, int, String) - parameters: 'Results Per Page', 'Page Number', 'Sort By'</p>
    <p>GET http://ghost.gerdov.com:8181/Spirited/<b>api/whisky/rebuild</b> ->      Response rebuildAllWhiskyData() - Clears and re-caches all data from ANBL! Longer operation.</p>
    <p>GET http://ghost.gerdov.com:8181/Spirited/<b>api/whisky/{id}</b>    ->      Response getWhisky(long) - parameters: DB 'Id'</p>
    <p>POST http://ghost.gerdov.com:8181/Spirited/<b>api/whisky/{id}</b>    ->      Response updateWhisky(long, Whisky) - parameters: DB 'Id', populated 'Whisky' object</p>
    <p>PUT http://ghost.gerdov.com:8181/Spirited/<b>api/whisky/</b>        ->      Response createWhisky(Whisky) - parameters: populated 'Whisky' object</p>
</div>